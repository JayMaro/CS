# 5. 동적 라우팅



### 라우팅 프로토콜

- 정적(Static) : 경로 정보를 라우터에 미리 저장하여 패킷 전송
- 동적(Dynamic) : 경로 정보가 네트워크 상황에 따라 더 빠른 경로로 변경되어 패킷 전송



### 라우팅 알고리즘

#### 역할

- 목적지까지의 최적 경로를 계산하고 라우팅 테이블에 업데이트

- 동적으로 라우팅 테이블을 유지 및 관리하는 알고리즘

  - Distance Vector : 

    분산 업데이트, 각 라우터들에 의해 최소 비용 경로 계산 -> 인접 노드와 교환

    소규모 네트워크, 주기적이며 비동기 방식

  - Link State: 중앙 집중형 업데이트, 네트워크 전체 정보를 통해서 최소 비용 경로 계산

    대규모 네트워크에 적합, 이벤트 기반 라우팅 테이블 관리



### 동적 라우팅 구분

- 동적 라우팅 프로토콜은 AS(Autonomous System)에 따라 구분된다.
- IGP(Interior Gateway Protocol): AS 내에서 동작하는 라우팅 프로토콜
- EGP(Exterior Gateway Protocol): AS와 AS간의 라우팅 프로토콜

#### AS(Autonomous System)

- 하나의 회사 또는 단체 안에서 동일한 정책으로 관리되는 라우터들의 집단

![image-20210418205707869](5. 동적 라우팅.assets/image-20210418205707869.png)

#### EGP(Exterior Gateway Protocol)

- BGP(Border Gateway Protocol) - 현재 쓰이는 가장 대표적인 EGP 라우팅 프로토콜
  - ISP to ISP 연결 간 사용
  - 경로 벡터 라우팅 프로토콜을 사용 - 루핑 방지
  - 변경 또는 추가 된 부분만 업데이트
  - 빠른 속도 보다는 조직 또는 단체간 맺어진 정책에 의거하여 최적 경로 결정
  - BGP 메시지 4가지 : OPEN, UPDATE, NOTIFICATION, KEEPALIVE
    - eBGP : 서로 다른 AS 간의 연결 및 라우팅 정보 교환
    - iBGP : 동일 AS 내에서 BGP 라우팅 정보 교환

#### IGP(Interior Gateway Protocol)

- RIP(Routing Information Protocol)
  - Distance Vector 기반의 IGP용 라우팅 프로토콜
  - 속도가 아닌 거리(라우터의 홉) 기반 경로 선택
  - 주기적으로 전체 라우팅 테이블 업데이트 - 30초
  - 구성이 간단, 적은 메모리 사용, 소규모 네트워크에서 주로 사용
  - RIPv1 : Classful 라우팅, 라우팅 업데이트 시 서브넷 마스크 정보를 전달하지 않음, 브로드 캐스팅
  - RIPv2 : Classless 라우팅, 라우팅 업데이트 시 서브넷 마스크 정보 전달, 멀티 캐스팅, Triggerd Update 설정 가능